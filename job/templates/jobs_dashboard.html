{% extends "base.html" %}
{% load bootstrap5 %}

{% block content %}
    <!-- bradcam_area  -->
    <div class="bradcam_area bradcam_bg_1">
        <div class="container">
            <div class="row">
                <div class="col-xl-12">
                    <div class="bradcam_text">
                        <h3>Jobs Dashboard</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--/ bradcam_area  -->

    <!-- job_listing_area_start  -->
    <div class="job_listing_area plus_padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="job_filter white-bg">
                        <div class="form_inner white-bg">
                            <h3>Filter</h3>
                            <form method="GET">
                                {% bootstrap_form filters.form %}
                                <input type="submit" value="Search" class="boxed-btn3 w-100 mt-2">
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="recent_joblist_wrap">
                        <div class="recent_joblist white-bg ">
                            <div class="row align-items-center">
                                <div class="col-md-6">
                                    <h4>{{jobs_count}}+ Jobs Available</h4>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="job_lists m-0 white-bg">
                        <table class="table">
                            <thead class="btn-primary ps-15 pe-15">
                                <tr>
                                    <th scope="col">Job</th>
                                    <th scope="col">Job Type</th>
                                    <th scope="col">Salary</th>
                                    <th scope="col">Options</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for job in jobs %}
                                    <tr>
                                        <td>{{job.title}}</td>
                                        <td>{{job.job_type}}</td>
                                        <td>{{job.salary}}</td>
                                        <td>
                                            <a class="btn btn-info" href="{% url 'jobs:job_details' job.id %}">About</a>
                                            <a class="btn btn-success" href="{% url 'jobs:edit_job' job.id %}">Edit</a>
                                            <a class="btn btn-danger" href="{% url 'jobs:delete_job' job.id %}">Delete</a>
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        {% if jobs.has_other_pages %}
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="pagination_wrap">
                                    <ul>
                                        {% if jobs.has_previous %}
                                        <li><a href="?page=1">&laquo; first</a></li>
                                        <li><a href="?page={{ jobs.previous_page_number }}"> <i class="ti-angle-left"></i> </a></li>
                                        {% endif %}

                                        {% for page in jobs.paginator.page_range %}
                                        <li><a href="?page={{ page }}"><span>{{page}}</span></a></li>
                                        {% endfor %}

                                        {% if jobs.has_next %}
                                        <li><a href="?page={{ jobs.next_page_number }}"> <i class="ti-angle-right"></i> </a></li>
                                        <li><a href="?page={{ jobs.paginator.num_pages }}">last &raquo;</a></li>   
                                        {% endif %}
                                        <div class="row">
                                            <span class="current col-lg-12 mt-2">
                                                Page <strong>{{ jobs.number }}</strong> of <strong>{{ jobs.paginator.num_pages }}</strong>.
                                            </span>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- job_listing_area_end  -->
{% endblock content %}